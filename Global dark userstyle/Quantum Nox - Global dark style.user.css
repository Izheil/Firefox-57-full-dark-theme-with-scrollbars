/* ==UserStyle==
@name         Quantum nox - Global dark style
@description  Fork from the global dark style that Stormi wrote to use alongside Quantum nox - Firefox dark theme.
@namespace    https://github.com/Izheil/Quantum-Nox-Firefox-Dark-Full-Theme
@version      2.0.2
@author       Izheil
@homepageURL  https://github.com/Izheil/Quantum-Nox-Firefox-Dark-Full-Theme/tree/master/Global%20dark%20userstyle
@updateURL    https://raw.githubusercontent.com/Izheil/Quantum-Nox-Firefox-Dark-Full-Theme/master/Global%20dark%20userstyle/Quantum%20Nox%20-%20Global%20dark%20style.user.css
@supportURL   https://github.com/Izheil/Quantum-Nox-Firefox-Dark-Full-Theme/tree/master/Global%20dark%20userstyle
@license      MPL-2.0
@preprocessor stylus

@var          color     linkColor    "Default link (and focus) color"    #2288dd
@var          color     visitedColor "Visited link color"    #506079
@var          color     selectColor  "Selected text background color"    #005599
@var          color     textColor    "Selected text color"    #000000
@var          color     bgColor      "Background color"  #181818
@var          text      darkBg       "Background img [wrap in url()]"  url("https://i.imgur.com/FrGqsTE.png")
@var          checkbox  imgHover     "100% bright img on hover"  0
@var          number    contNum      "Image brightness %" ['%', 100, 0, 100, 1]
@var          checkbox  applyDiv     "Brightness on div img bg"  0
@var          checkbox  invImgCol    "Invert image colors"  0
@var          checkbox  divHide      "Hide div background images"  1
@var          checkbox  headHide     "Hide header images"  0
@var          checkbox  headCont     "Lower header img contrast"  1
@var          select    invMethod    "Site theming method" {
    "Custom settings": "customSet",
    "Color Inversion": "colorInv",
    "Only lower brightness": "lowBright"
}

==/UserStyle== */
@-moz-document regexp("https?://(?!(www.tvtime.com|www.t411.al|www.nespresso.com|www.wechoosethemoon.org|www.nasa.gov|((?!w+)([^\.]+)\.)?([^\.]+)\.google.(com|es|de)|duckduckgo.com|www.youtube.com|www.reddit.com|twitter.com|gfycat.com|codepen.io|imgur.com)).*") {
/* Add any other site you don't want to apply inside the regexp encased between |'s ^ */

if invMethod == "customSet"  {
    
    /* General elements background color */
    html, iframe, embed, footer:not([class*="comment"]), [id*="footer"] {background: darkBg bgColor !important}
    body, .body-content, .conversation-list-heading .inner, .content-block, .page-body {
        background-image: none !important;
        background-color: transparent !important;
        color: #bbb !important}

    * {
        background-color: transparent !important;
        border-color: #333 !important;
        color: #aaa !important;
        text-shadow: none !important;
        box-shadow: none !important}
        
    ::before, ::after {background-color: transparent !important; border: #333 !important}
        
    [class*="main"]:not([class*="nav"]):not([id*="nav"]):not([class*="header"]):not([id*="header"]), [id*="main"]:not([class*="nav"]):not([id*="nav"]):not([class*="header"]):not([id*="header"]),                [class*="Main"]:not([class*="nav"]):not([id*="nav"]):not([class*="header"]):not([id*="header"]), [id*="Main"]:not([class*="nav"]):not([id*="nav"]):not([class*="header"]):not([id*="header"]), 
    main {background-color: bgColor !important}   
        
    div {color: #bbb !important}
    
    [class*="border"], div, ::before, ::after {
        border-color: #333 !important}
        
    hr {background-color: #666 !important}
        
    header:not([class*="comment"]), [id*="header"], .header-wrap, .js-header-wrapper, div[class*="header-container"], nav, 
    [class*="navi"]:not([class*="item"]):not([class*="btn"]):not([class*="button"]):not([class*="navigation"]):not([id*="Container"]):not([class*="timeline"]), 
    div[class*="submenu"], div[class*="sub-menu"], div.navigation, .links-box, .Box-body, .commit-tease, [class*="menu-item"], ul[class*="menu"], [class*="pagehead"] {
        background-color: rgba(0,0,0,0.5) !important;
        box-shadow: 0 0 5px #000 !important} 
    
    [class*="dialog"], [class*="light"], [class*="white"], div.Popover-message, ul.sub, div[role="menu"], .options, .vue-treeselect__menu, 
    .ListResult, div[class*="menu"], .menu ul ul li a {background-color: rgba(0,0,0,0.8) !important}
    #content-wrapper, .content-wrapper, .content-wrapper::after, .article, .flex_box > div, .Box-header, .select-menu-header {background-color: #252525 !important}
        
    div[class*="dropdown"]:not([class*="toggle"]):not([class*="has-children"]):not([class*="wrapper"]):not([role="menuitem"]):not([class*="header"]), 
    div[class*="drop-down"]:not([class*="wrapper"]):not([role="menuitem"]):not([class*="header"]), .Dropdown-menu,
    li[class*="dropdown"]:not([class*="toggle"]):not([class*="has-children"]):not([class*="wrapper"]):not([role="menuitem"]):not([class*="header"]):not(.user-menu), 
    li[class*="drop-down"]:not([class*="wrapper"]):not([role="menuitem"]):not([class*="header"]):not(.user-menu), [class*="popup"], [class*="popover"]:not([class*="link"]), 
    [class*="widget-content"], [class*="notice"] {background: rgba(0,0,0,0.5) !important}
        
    pre, code, .w3-code, blockquote, .ace_gutter-layer {
        background: rgba(255,255,255,0.1) !important;
        color: #ccc !important}
    pre > code {background: transparent !important}
        
    /* Text colors */
    div[id*="install"], div[id*="install"] div, div[class*="install"], div[class*="install"] div {color: #fff !important}
    figcaption, time, del, div.downlinks > dl > dt > a {color: #999 !important}
    p, li, .text-gray-dark, ins, i {color: #bbb !important}
    i, svg {fill: #ccc !important}
    h1, h2, h3, h4, h5, h6, summary, dt, span, em, b, strong {color: #ddd !important}

    /* Links and text selection */
    a, a *, .link-gray-dark {
        color: linkColor !important;
        text-decoration: none !important;
        text-shadow: 0 0 1px #000 !important}
        
    a:visited, a:visited * {
        color: visitedColor !important}

    a.active, a.selected, a.highlight [href="#"], a.is-selected, [class*="state-active"] {
        color: #fff !important;
        font-weight: bold !important;
        background: rgba(255,255,255,0.1) !important}
        
    a:hover, a:hover *, a *:hover, a:hover *:hover, .link-gray-dark:hover, a[class*="label"], a[class*="Label"], span[class*="Label"] a {
        color: #fff !important;
        transition: color 200ms !important}        

    ::selection {
        background: selectColor !important; 
        color: textColor !important;
        text-shadow: 0 0 1px #000 !important}
 
    /* Textbox like inputs */
    input[type="text"]:not(#s3downbar_download_tooltip_source_box), input[type="email"], input[type="password"], input[type="tel"], 
    input[type="number"], input[type="date"], input[type="datetime-local"], input[type="month"], input[type="search"], input[type="time"],
    input[type="url"], input[type="week"], textarea, input[readonly], .ace_scroller {
        background: #151515 !important;
        color: #ddd !important;
        border: 2px ridge #444 !important;
        box-shadow: none !important}

    input[type="text"]:not(#s3downbar_download_tooltip_source_box):hover, input[type="email"]:hover, input[type="password"]:hover, input[type="tel"]:hover, 
    input[type="number"]:hover, input[type="date"]:hover, input[type="datetime-local"]:hover, input[type="month"]:hover, input[type="search"]:hover, input[type="time"]:hover,
    input[type="url"]:hover, input[type="week"]:hover, textarea:hover {
        background: #101010 !important;
        border-color: #555 !important;
        transition: all 200ms !important}
        
    input[type="text"]:not(#s3downbar_download_tooltip_source_box):focus, input[type="email"]:focus, input[type="password"]:focus, input[type="tel"]:focus, 
    input[type="number"]:focus, input[type="date"]:focus, input[type="datetime-local"]:focus, input[type="month"]:focus, input[type="search"]:focus, input[type="time"]:focus,
    input[type="url"]:focus, input[type="week"]:focus, textarea:focus {
        background: #111 !important;
        border-color: linkColor !important;
        box-shadow: 0 0 5px linkColor !important;
        transition: all 200ms !important}

    input[disabled] {opacity: 0.5 !important}
        
    /* Buttons */
    div[class*="button"]:not([class*="buttons"]):not([class*="menu"]), div[class*="btn"], input[type="file"], input[type="color"], input[type="button"], a.social-count, a[class*="button"], a[class*="btn"],
    summary.btn, clipboard-copy, .ellipsis-expander, file-attachment, .drag-and-drop, .btn, div[class*="button"]:not([class*="buttons"]) a, .pageNav-page, .pageNav-jump  {
        -moz-appearance: none !important;
        -webkit-appearance: none !important;
        border-radius: 3px !important;
        border-color: #555 !important;
        background: rgba(255,255,255,0) !important;
        color: #ddd !important;
        box-shadow: none !important}
        
    div[class*="btn"]:hover, input[type="file"]:hover, input[type="color"]:hover, div[class*="header"] li:not([class*="btn"]) a:not(img):not(svg):hover, #sidenav a:hover, 
    input[type="button"]:hover, a.social-count:hover, a[class*="button"]:hover, a[class*="btn"]:hover, summary.btn:hover, clipboard-copy:hover,
    .navigation-link:hover, div[class*="submenu"] a:hover, ul[class*="menu"] li:hover, .btn:hover, 
    div[class*="button"]:not([class*="buttons"]) a:hover, .pageNav-page:hover, .pageNav-jump:hover, .dropdown-menu a[role="menuitem"]:hover, 
    .dropdown-toggle[aria-expanded="true"], .options .item:hover, .vue-treeselect__menu > div > div:hover {
        background: rgba(255,255,255,0.1) !important;
        color: #fff !important}
    
    .anchor-list a.hoverable, li[class*="btn"] a, div[class*="buttons"] a[onclick], [aria-selected="true"], 
    button:not([class*="menu"]):not([id*="menu"]):not([role="switch"]):not([class*="ytp"]):not([class*="play"]):not([class*="mute"]):not([class*="fullscreen"]):not(.connect__button), 
    input[type="submit"]:not(#searchbtn):not(#search-submit-button):not(#main-search-submit-button):not(#searchsubmit), [class*="menu-item"]:hover {
        -moz-appearance: none !important;
        -webkit-appearance: none !important;
        background-color: #303030 !important; 
        color: #ddd !important; 
        border-radius: 3px !important}
        
    .anchor-list a.hoverable:hover, a[data-toggle="dropdown"]:not([class*="wrapper"]):not([role="menuitem"]):hover, 
    li[class*="btn"]:hover a, div[class*="buttons"] a[onclick]:hover, div[class*="dropdown"] a:hover, div[class*="drop-down"] a:hover, 
    button:not([class*="menu"]):not([id*="menu"]):not([role="switch"]):not([class*="play"]):not([class*="mute"]):not([class*="fullscreen"]):not(.connect__button):hover, 
    input[type="submit"]:not(#searchbtn):not(#search-submit-button):not(#main-search-submit-button):not(#searchsubmit):hover, 
    span[role="button"]:hover {
        background-color: #444 !important; 
        color: #fff !important}

    /* Checkboxes and radio buttons */
    input[type="checkbox"], input[type="radio"] {
        -moz-appearance: none !important;
        -webkit-appearance: none !important;
        border: 2px solid #333;
        min-width: 12px; 
        min-height: 12px}
    input[type="checkbox"] {border-radius: 1px !important; margin-bottom: 0 !important}
    input[type="radio"], input[type="radio"]:focus {border-radius: 100% !important}
    input[type="checkbox"]:checked, input[type="radio"]:checked, button[role="switch"] {
        border-color: linkColor !important;
        box-shadow: inset 0 0 2px #000 !important;
        background: linkColor !important;
        }
        
    [class*="bullet-active"] {background-color: linkColor !important}
        
    /* Tables */
    table {background: transparent !important; border-color: #333 !important}
    th {background-color: rgba(255,255,255,0.3) !important; color: #fff !important}
    tr:nth-child(odd), tr:nth-child(odd) td {background-color: rgba(255,255,255,0.02) !important; color: #ccc !important}
    tr[aria-selected="true"] td {background: #333 !important}
    tr:nth-child(even), tr:nth-child(even) td {background-color: rgba(0,0,0,0.05) !important; color: #ccc !important}
    td {color: #ccc !important}
    
    /* Select boxes */
    select, [role="combobox"] {
        -moz-appearance: none !important;
        -webkit-appearance: none !important;
        padding-right: 15px !important;
        background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAECAYAAABCxiV9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAeSURBVBhXY5g5c+Z/BiwALo6uAEMDTACXSWgSDAwA4jATh950E30AAAAASUVORK5CYII=') no-repeat right 4px center #060606 !important;
        border-color: #333 !important;
        box-shadow: none !important;
        transition: border-color 0.3s, background-position 0.3s !important}
        
    select:hover, [role="combobox"]:hover {background-color: #222 !important}
        
    /*----- MISC PAGE FIXES -----*/
    #mw-head {background: #151515 !important}
        
    li#ca-nstab-main, li#ca-talk, li#ca-view, 
    li#ca-edit, li#ca-history, li#ca-nstab-project, li#ca-viewsource {background: #222 !important}
        
    li#ca-nstab-main.selected, li#ca-talk.selected, li#ca-view.selected, 
    li#ca-edit.selected, li#ca-history.selected, li#ca-nstab-project.selected,
    li#ca-viewsource.selected {background: #333 !important; border-top: 2px solid #777 !important}
        
    li#ca-nstab-main a, li#ca-talk a, li#ca-view a, 
    li#ca-edit a, li#ca-history a, li#ca-nstab-project a,
    li#ca-viewsource a{border-right: 1px solid #666 !important}
    .mw-parser-output .main-top-left {background: linear-gradient(to right, #000, transparent) !important}
        
    .communitymailinglist a, #oh-menu-submit span, #oh-menu-join a {background: #333 !important; color: #ddd !important}
    .communitymailinglist a:hover, #oh-menu-submit span:hover, #oh-menu-join a:hover {background: #444 !important; color: #fff !important}
    
    #disqus .load-comments, #simpleSearch, .vectorTabs {background: transparent !important; color: #ddd !important; border-color: #555 !important}
    #disqus .load-comments:hover {background: rgba(255,255,255,0.1) !important; color: #fff !important}
    #conversation [class*="nav"], .grey-angle-bg, .grey-graident, .light-grey-gradient,
    .bottom-menu.body {background: transparent !important}
        
    span.cm-tag {color:  #d55d5d !important}
    span.cm-tag.cm-bracket {color:  #4CAF50 !important}
    span.cm-string {color: #9999ff !important}
    span.cm-variable, span.cm-def {color: #a6a6a6 !important}
    span.cm-property {color:  #ff6666 !important}
        
    .CodeMirror {background-color: transparent !important}
        
    .note {background: #331}
        
    .title, [id*="search"]:not([id*="btn"]):not([class*="btn"]):not([id*="search-submit-button"])):not([type="submit"]), 
    .probox {background: none !important; box-shadow: none !important}
        
    .probox input[type="search"] {filter: invert(80%) hue-rotate(180deg)}

    .nav-main-item a:hover, a[data-service="GitHub"]:hover {background: rgba(255,255,255,0.1) !important}  
    .download.big-button:not(.red)::after {background: #222 !important}
    
    .p-sectionLinks {background-color: rgba(0,0,0,0.8) !important}
        
    .contentRow-fader {background: linear-gradient(transparent, bgColor) !important}
        
    /*----- IMAGE CHANGES -----*/
    if (contNum < 100) {
        img:not(#s3downbar_download_box_img), picture, input[type="image"] {
            filter: brightness(contNum)}
            
        if applyDiv {
            div[style*="background-image:"]:not(.download_data_box):not(#s3downbar_download_box_progress) {
            filter: brightness(contNum)}
        }
    }

    if imgHover && invImgCol == 0 {
        img:not(#s3downbar_download_box_img), div[style*="background-image:"]:not(.download_data_box):not(#s3downbar_download_box_progress), input[type="image"] {
            transition: filter .2s
            }
        img:not(#s3downbar_download_box_img):hover, a:hover img, div[style*="background-image:"]:not(.download_data_box):not(#s3downbar_download_box_progress):hover, input[type="image"]:hover {
            filter: none !important
            }
      }

    if invImgCol {
        img:not(#s3downbar_download_box_img), input[type="image"] {
            filter: invert(100%);
            }
        if applyDiv {
            div[style*="background-image:"]:not(.download_data_box):not(#s3downbar_download_box_progress) {
            filter: invert(100%)}
        }
      }
        
    if headCont {
        section, #banner, .banner, .header, header {
          background-color: rgba(0,0,0,0.5) !important;
          background-blend-mode: darken !important}

        section p, header p, #banner p, .banner p, .header p {background-color: rgba(0,0,0,0.3) !important}
        }

    if divHide {
        body, *:not(:empty):not(span):not(a):not(b):not(option):not(select):not(img):not(header):not(section):not(.s3dmBox):not(picture):not(button) {
          background-image: none !important}
        }

    if headHide {
        section, #banner, .banner, .header, #content-wrapper, header p {
            background-image: none !important}
        section p, #banner p, .banner p, .header p, #content-wrapper p, header p {
            background-color: transparent !important}
        }
    }
  
if invMethod == "colorInv" {
    html {background: bgColor !important}
    body {background: linear-gradient(bgColor, bgColor) !important}
    body > * {filter: invert(100%)}
    }
    
if invMethod == "lowBright" {
    html {background: darkBg bgColor /* fixed color */ !important} 
    body {opacity: 0.5}
    }
}